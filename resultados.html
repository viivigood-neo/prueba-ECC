<!DOCTYPE html>
<html>
<head>
	<title>Resultados</title>

</head>
<body>

	<h2>RESULTADOS</h2>

	<div id="content"></div>
    <script>
      function hndlr(response) {
      for (var i = 0; i < response.items.length; i++) {
        var item = response.items[i];
        // in production code, item.htmlTitle should have the HTML entities escaped.
        document.getElementById("content").innerHTML += "<br>" + item.htmlTitle;
      }
    }
    </script>
    <script src="https://www.googleapis.com/customsearch/v1?key=YOUR-KEY&cx=017576662512468239146:omuauf_lfve&q=cars&callback=hndlr">
    </script>

    <script>
    	var url = new URL(window.location.href);
		var q = url.searchParams.get("q");
		console.log(q);

		const cx = '001939702519921710925:r3go7yk9ajo' // your search engine id 
	    //const apikey = 'AIzaSyCruvesVjl1VqDmpjqQB79O1S1KD0e8NHI' // Osinergmin API KEY
	    const apikey = 'AIzaSyDpRgh0F8R1Qri4RaKH-ypuSlf2FIs43fA' // Nemo API Key TEST
	    var url = 'https://www.googleapis.com/customsearch/v1?key='+apikey+'&cx='+cx+'&q='+q;

	    console.log(url);

	    var request = new XMLHttpRequest()

	    request.open('GET', url, true)

		request.onload = function() {
		  // Begin accessing JSON data here
		  var data = JSON.parse(this.response)

		  data.items.forEach(item => {
			  //console.log(item.title)
			  document.getElementById("content").innerHTML += "<br>" + item.htmlTitle;
		  })
		}

		// Send request
		request.send()
    </script>


</body>
</html>